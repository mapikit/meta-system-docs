<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Writing Protocols | Meta-System</title><meta data-react-helmet="true" property="og:url" content="https://mapikit.github.io/meta-system-docs/docs/guides/writing-protocols"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Writing Protocols | Meta-System"><meta data-react-helmet="true" name="description" content="Protocols are what enables Meta-System to talk with the external world, and given that there are many many ways you may want to do it, you can create your own method of talking with your system."><meta data-react-helmet="true" property="og:description" content="Protocols are what enables Meta-System to talk with the external world, and given that there are many many ways you may want to do it, you can create your own method of talking with your system."><link data-react-helmet="true" rel="shortcut icon" href="/meta-system-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mapikit.github.io/meta-system-docs/docs/guides/writing-protocols"><link data-react-helmet="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/guides/writing-protocols" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/guides/writing-protocols" hreflang="x-default"><link rel="stylesheet" href="/meta-system-docs/assets/css/styles.e3e3e5d0.css">
<link rel="preload" href="/meta-system-docs/assets/js/runtime~main.0da261fd.js" as="script">
<link rel="preload" href="/meta-system-docs/assets/js/main.43e64447.js" as="script">
</head>
<body data-theme="dark">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/meta-system-docs/"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Meta-System</b></a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/api-docs/getting-started">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/meta-system-docs/docs/guides/guides-introduction">Guides</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/tutorials/tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/our-packages/our-packages-intro">Packages</a></div><div class="navbar__items navbar__items--right"><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/guides/guides-introduction">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/guides/writing-packages-and-functions">Writing Packages And Functions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/meta-system-docs/docs/guides/writing-protocols">Writing Protocols</a></li><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/guides/writing-db-protocols">DB Protocols Code</a></li><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/guides/contributing">Contributing</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Writing Protocols</h1></header><p>Protocols are what enables Meta-System to talk with the external world, and given that there are many many ways you may want to do it, you can create your own method of talking with your system.</p><p>There are two kinds of Protocols in Meta-System, as <a href="/meta-system-docs/docs/api-docs/configuring/protocol-config">seen here</a>.
Starting with the normal protocol, here are its capabilities in Meta-System:</p><ul><li>Can receive a custom Object containing the parameters to be initialized with.</li><li>Can call any BOp.</li><li>Can provide functions to interact with the protocol, and those can be used in BOps flows.</li></ul><p>The DB protocol is quite specialized in data access and manipulation:</p><ul><li>Can also receive a custom Object containing the parameters to be initialized with.</li><li>Receives the whole list of schemas configured by the user.</li><li>Provides Meta-System functions to interact with the database.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-requirements"></a>1. Requirements<a class="hash-link" href="#1-requirements" title="Direct link to heading">#</a></h2><p>Before we start, be sure to already have:</p><ul><li>An account in <a href="https://npmjs.com" target="_blank" rel="noopener noreferrer">NPM</a> for publishing your package;</li><li><a href="https://www.nodejs.org" target="_blank" rel="noopener noreferrer">Node.Js</a> installed (version 12 or later);</li><li>A text editor of your choice, or IDE for editing Javascript/Typescript.</li></ul><p>Now we should start by installing <code>@meta-system/meta-protocol-helper</code>, a library we published to aid developing new protocols to Meta-System, as well as validate them. We will be installing it both locally and system-wide.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> i -g @meta-system/meta-protocol-helper</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> i @meta-system/meta-protocol-helper --save</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you want a quick start on this, try cloning the repository of <a href="https://github.com/mapikit/cronjob-protocol" target="_blank" rel="noopener noreferrer">CronJob Protocol</a>, or the <a href="https://github.com/mapikit/mongo-db-protocol" target="_blank" rel="noopener noreferrer">mongo-db-protocol</a> for DB protocols.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-the-code"></a>2. The Code<a class="hash-link" href="#2-the-code" title="Direct link to heading">#</a></h2><p>This section, due to having major difference between DB Protocols and Normal protocols, we will split them into another page. You can keep reading this page if <strong>normal</strong> protocols are what you are looking to build. Otherwise, follow from here: <a href="/meta-system-docs/docs/guides/writing-db-protocols">DB Protocols Code</a>.</p><p>After you already have all the requirements, you can code away! The expected interface of a <strong>normal</strong> protocol is a class that extends <code>MetaProtocol</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration-parameters"></a>Configuration Parameters<a class="hash-link" href="#configuration-parameters" title="Direct link to heading">#</a></h3><p>We believe that you, the author of this awesome Protocol, should have the rights to define what it needs to be configured and functional, and this is the place for doing it. You should accept an object as the first argument in the constructor, which contains all the parameters you want, with any structure you can imagine, just be sure to provide us with the method for validating it (<a href="#validateconfiguration---returns-void">see below</a>). If the users configures your protocol wrong, Meta-System will fail to boot.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="constructor"></a>Constructor<a class="hash-link" href="#constructor" title="Direct link to heading">#</a></h3><p>For <strong>normal</strong> protocols, you will always recieve two arguments in the following order:</p><ul><li>Your Protocol&#x27;s configuration parameters;</li><li>The Function Manager, which is what you may use for getting the BOps to be executed.</li></ul><p>These should also be passed in the same order when calling <code>super()</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">configuration</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> functionManager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> functionManager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>It is recommended to bind your methods in the constructor.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="methods"></a>Methods<a class="hash-link" href="#methods" title="Direct link to heading">#</a></h3><p>There are some functions we require you to implement for your protocol to be valid. Pay attention to names of the methods for both the <strong>normal</strong> and <strong>DB Protocol</strong> protocols, as we intentionally made them different, so there&#x27;s an interface mismatch.
You must declare the following methods:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start---returns-void"></a><strong><code>start</code></strong> - returns <code>void</code><a class="hash-link" href="#start---returns-void" title="Direct link to heading">#</a></h4><p>For <strong>normal</strong> protocols, this method starts the execution of your protocol. &quot;Starting&quot; your protocol means allowing BOps to be called. For instance, for an HTTP controller, the &quot;start&quot; means begin to listen on the routes that should trigger any BOp. You may use <code>console.log()</code> here so anyone that uses this protocol can be sure that it is working. This method can be Async.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stop---returns-void"></a><strong><code>stop</code></strong> - returns <code>void</code><a class="hash-link" href="#stop---returns-void" title="Direct link to heading">#</a></h4><p>For <strong>normal</strong> protocols, this is the method that stops your protocol from calling any BOp. You may also use <code>console.log()</code> here to be clear to anyone who uses your Protocol that it actually stopped. This method can be Async.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="validateconfiguration---returns-void"></a><strong><code>validateConfiguration</code></strong> - returns <code>void</code><a class="hash-link" href="#validateconfiguration---returns-void" title="Direct link to heading">#</a></h4><p>This method is required and is executed by Meta-System in order to be sure that a valid configuration for your protocol was provided. It should validate every parameter specified in your user configuration.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Errors</h5></div><div class="admonition-content"><p>Every validation in this method should throw an error if failed. Prefer error messages that guide the user to solving the configuration issues encountered.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getprotocolpublicmethods---returns-an-object-containing-functions-to-be-used-in-bops"></a><strong><code>getProtocolPublicMethods</code></strong> - returns an object containing functions to be used in BOps<a class="hash-link" href="#getprotocolpublicmethods---returns-an-object-containing-functions-to-be-used-in-bops" title="Direct link to heading">#</a></h4><p>This is the method you should use when you want to provide a way of interacting with your protocol from the BOps flow, such as forcibly send an error to the user, or getting a connection value. If there are no such interactions for your protocol, return an empty object.</p><p>If you do want to provide them, their name should be keys in the object, while their function declarations are the values.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="additional-methods-for-db-protocols"></a>Additional Methods For DB Protocols<a class="hash-link" href="#additional-methods-for-db-protocols" title="Direct link to heading">#</a></h3><p>DB protocols also requires the functions to provide the Schema access to the Database. They are all specified in the <a href="/meta-system-docs/docs/api-docs/functions/schema-functions/intro#the-recommended-interface">Schema-Functions</a> section. All of them must be created to the DB protocol to be valid.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Take note!</h5></div><div class="admonition-content"><p>The <strong>inputs</strong> on the code looks different to what we have on the documentation! All the functions.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-the-configuration-file"></a>3. The Configuration File<a class="hash-link" href="#3-the-configuration-file" title="Direct link to heading">#</a></h2><p>Just like packages and functions, Protocols also need a file to tell Meta-System how they should be used. The name of that file is <code>meta-protocol.json</code>. Here is what the <code>meta-protocol.json</code> file should contain.</p><p>Let&#x27;s start with an example of that file. Taken from the <a href="https://github.com/mapikit/cronjob-protocol" target="_blank" rel="noopener noreferrer">CronJob Protocol</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;protocolName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;cronjob-protocol&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Run functions in a timely fashion&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;entrypoint&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;./dist/index.js&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1.0.5&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;className&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;CronJob&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;functionDefinitions&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;input&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;output&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;functionName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;stopJob&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;stops running job&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;input&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;output&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;functionName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;startJob&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Start the job&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;configurationFormat&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;arguments&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;cloudedObject&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;bopsName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;periodMillis&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;number&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration-file-parameters"></a>Configuration File Parameters<a class="hash-link" href="#configuration-file-parameters" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="protocolname---string-required"></a><code>&quot;protocolName&quot;</code> - String (required)<a class="hash-link" href="#protocolname---string-required" title="Direct link to heading">#</a></h4><p>It is the name of your protocol, as it is in NPM and in your <code>package.json</code> file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="description---string-required"></a><code>&quot;description&quot;</code> - String (required)<a class="hash-link" href="#description---string-required" title="Direct link to heading">#</a></h4><p>This is a short description of what your protocol does.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entrypoint---string-required"></a><code>&quot;entrypoint&quot;</code> - String (required)<a class="hash-link" href="#entrypoint---string-required" title="Direct link to heading">#</a></h4><p>This property is where Meta-System should look to find the file where your protocol class is declared.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="version---semver-string-required"></a><code>&quot;version&quot;</code> - SemVer String (required)<a class="hash-link" href="#version---semver-string-required" title="Direct link to heading">#</a></h4><p>The current semantic version of your protocol. Should match what is in the <code>package.json</code> file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="classname---string-required"></a><code>&quot;className&quot;</code> - String (required)<a class="hash-link" href="#classname---string-required" title="Direct link to heading">#</a></h4><p>It is the name of the class exported in your <code>&quot;entrypoint&quot;</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functionsdefinitions---array-required"></a><code>&quot;functionsDefinitions&quot;</code> - Array (required)<a class="hash-link" href="#functionsdefinitions---array-required" title="Direct link to heading">#</a></h4><p>This array should contain objects of <a href="/meta-system-docs/docs/guides/writing-packages-and-functions#functionsdefinitions---meta-function-array-required">functions definitions</a>, and may be empty if your protocol has no exported functions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configurationformat---objectdefinition-required"></a><code>&quot;configurationFormat&quot;</code> - <a href="/meta-system-docs/docs/api-docs/configuring/object-definition">ObjectDefinition</a> (required)<a class="hash-link" href="#configurationformat---objectdefinition-required" title="Direct link to heading">#</a></h4><p>This is an object specifying how your protocol should be configured. Meta-System uses this to check for you if the user has provided a valid configuration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-validating"></a>4. Validating<a class="hash-link" href="#4-validating" title="Direct link to heading">#</a></h2><p>We&#x27;re almost there! For validating your protocol, you should just run the command <code>meta-protocol-check</code> at the root of your repository. This command will check your class to see if it has all the required methods and also if it provides the methods declared in your <code>meta-protocol.json</code> file. If you&#x27;re writing a DB protocol, do a <code>db-protocol-check</code> instead.</p><p>If everything goes smoothly, you should see a green success message saying: &quot;File passed validation.&quot;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5-publishing"></a>5. Publishing<a class="hash-link" href="#5-publishing" title="Direct link to heading">#</a></h2><p>You&#x27;re just a command away from getting your protocol ready to be used by everyone who uses Meta-System. Type in <code>npm publish</code> and you&#x27;re set!</p><p>For how to use protocols (including your own!), check <a href="/meta-system-docs/docs/api-docs/configuring/protocol-config">this</a> documentation page.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/mapikit/meta-system-docs/edit/main/docs/guides/writing-protocols.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/meta-system-docs/docs/guides/writing-packages-and-functions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Writing Packages And Functions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/meta-system-docs/docs/guides/writing-db-protocols"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DB Protocols Code »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-requirements" class="table-of-contents__link">1. Requirements</a></li><li><a href="#2-the-code" class="table-of-contents__link">2. The Code</a><ul><li><a href="#configuration-parameters" class="table-of-contents__link">Configuration Parameters</a></li><li><a href="#constructor" class="table-of-contents__link">Constructor</a></li><li><a href="#methods" class="table-of-contents__link">Methods</a></li><li><a href="#additional-methods-for-db-protocols" class="table-of-contents__link">Additional Methods For DB Protocols</a></li></ul></li><li><a href="#3-the-configuration-file" class="table-of-contents__link">3. The Configuration File</a><ul><li><a href="#configuration-file-parameters" class="table-of-contents__link">Configuration File Parameters</a></li></ul></li><li><a href="#4-validating" class="table-of-contents__link">4. Validating</a></li><li><a href="#5-publishing" class="table-of-contents__link">5. Publishing</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Meta-System was built by Mapikit and follows the GPL-3.0 License. Documentation page built with Docusaurus.</div></div></div></footer></div>
<script src="/meta-system-docs/assets/js/runtime~main.0da261fd.js"></script>
<script src="/meta-system-docs/assets/js/main.43e64447.js"></script>
</body>
</html>