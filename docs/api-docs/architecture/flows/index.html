<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api-docs/architecture/flows">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Execution Flows | Meta-System</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mapikit.github.io/meta-system-docs/docs/api-docs/architecture/flows"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Execution Flows | Meta-System"><meta data-rh="true" name="description" content="What are Flows"><meta data-rh="true" property="og:description" content="What are Flows"><link data-rh="true" rel="icon" href="/meta-system-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/architecture/flows"><link data-rh="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/architecture/flows" hreflang="en"><link data-rh="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/architecture/flows" hreflang="x-default"><link rel="stylesheet" href="/meta-system-docs/assets/css/styles.2c7c2e33.css">
<link rel="preload" href="/meta-system-docs/assets/js/runtime~main.b6e84327.js" as="script">
<link rel="preload" href="/meta-system-docs/assets/js/main.d8b2b365.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/meta-system-docs/"><div class="navbar__logo"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Meta-System</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/meta-system-docs/docs/api-docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/guides/guides-introduction">Guides</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/tutorials/">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github header-icon" aria-label="GitHub Repository"></a><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord header-icon" aria-label="Discord Server"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/api-docs/getting-started">Meta-System</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/meta-system-docs/docs/api-docs/architecture/software-design">Concepts and Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/architecture/software-design">Base Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/architecture/extending-functionality">Extending Functionality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/meta-system-docs/docs/api-docs/architecture/flows">Execution Flows</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/meta-system-docs/docs/api-docs/architecture/components/addons">Components</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/meta-system-docs/docs/api-docs/configuring/basics">Configuring Meta-System</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/meta-system-docs/docs/api-docs/functions/assertion/is-nill">Internal Functions Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/api-docs/using-the-cli">Meta-System CLI</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/meta-system-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts and Components</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Execution Flows</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Execution Flows</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-flows">What are Flows<a href="#what-are-flows" class="hash-link" aria-label="Direct link to What are Flows" title="Direct link to What are Flows">​</a></h2><p>All systems are made of execution flows, tailored to the needs of their use-case. Meta-System provides a framework for planning your flows and reusing common steps in the operation. This is what we call Business Operations, or <strong>BOps</strong> for short.</p><p>Those operations are composed of small steps called &quot;modules&quot; or &quot;BOps Functions&quot;. By chaining them together it is possible to build any functionality a system may perform.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Glossary Disambiguation</div><div class="admonitionContent_S0QG"><p>By saying <strong>BOps</strong>, we&#x27;re refferring to the flows. By saying <strong>module</strong> or <strong>BOps Function</strong>, we are talking about each of the said &quot;steps&quot; of a BOps. Finally, <strong>BOps Engine</strong> is the engine responsible for &quot;compiling&quot; your configuration, <em><a href="#bops-engine-using-declared-bops">see below</a></em>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-bops">Declaring BOps<a href="#declaring-bops" class="hash-link" aria-label="Direct link to Declaring BOps" title="Direct link to Declaring BOps">​</a></h2><p>When configuring a BOps, each function that needs to be executed in that specific BOp must be specified. This takes place in the property <a href="/meta-system-docs/docs/api-docs/configuring/bops/bops-configuration"><code>&quot;configuration&quot;</code></a> on your business operation data.</p><p>For MSYS this property is a list that contains every function, their dependencies, and an <strong>attributed key</strong>. This means that you don&#x27;t explicitly describe the flow, you declare the BOps Functions that need to be executed, what their input data is, and their <strong>functional dependencies</strong>. <strong>This approach makes MSYS conceptually close to <a href="https://en.wikipedia.org/wiki/Functional_programming" target="_blank" rel="noopener noreferrer">functional programming</a></strong>.</p><blockquote><p><strong>The key of a function</strong> is what Meta-System uses internally to know what function a dependency is refferring to, as it is possible to contain multiple functions with the same body (Eg: A multiplication function), but different dependencies and outputs in the same flow.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="Direct link to Dependencies" title="Direct link to Dependencies">​</a></h3><p>Every BOps function may have dependencies bound to them, and each dependency is resolved before the current function is executed.</p><p>The dependencies can be either <strong>functional</strong> (when the dependency data is not needed, but its execution is required), or <strong>normal</strong>, when the data is required and mapped to the input of the next function.</p><blockquote><p>It is important to take note that BOps Functions can take functions as parameters too. Meta-System provides a way of passing a module as a parameter by setting <a href="/meta-system-docs/docs/api-docs/configuring/bops/dependencies/#origin-path"><code>&quot;originPath&quot;</code></a> to <code>&quot;module&quot;</code>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies-during-runtime">Dependencies During Runtime<a href="#dependencies-during-runtime" class="hash-link" aria-label="Direct link to Dependencies During Runtime" title="Direct link to Dependencies During Runtime">​</a></h3><p>Meta-System validates that there are no circular dependencies declarations, for in such case, there is no final point that must be executed first.</p><p>For example, in a BOps in which there is a function <code>A</code> that depends on <code>B</code>, which depends on <code>C</code>, that depends on <code>A</code> again, it is not possible to solve dependencies.</p><p>On the other hand, in a valid configuration which contains the module <code>A</code>, <code>B</code>, and <code>C</code>, and that <code>A</code> has a declared dependency on <code>B</code> and <code>C</code>:</p><ol><li><code>B</code> and <code>C</code> are executed in a sequence that depends on their order in the dependencies list.</li><li><code>A</code> is executed.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="determining-flow">Determining Flow<a href="#determining-flow" class="hash-link" aria-label="Direct link to Determining Flow" title="Direct link to Determining Flow">​</a></h2><p>From the configuration to the execution of the BOps flow, there are two stages: The Stitching stage, when Meta-System turns your configuration in a JS function, and the Execution stage, that is when the produced function is executed.</p><p>If you&#x27;re looking for how to configure it, check <a href="/meta-system-docs/docs/api-docs/configuring/bops/flows">this page</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stitching-stage">Stitching Stage<a href="#stitching-stage" class="hash-link" aria-label="Direct link to Stitching Stage" title="Direct link to Stitching Stage">​</a></h3><p>Firstly, Meta-System looks to the <code>&quot;output&quot;</code> function, and check its dependencies. For each dependency, this process is repeated: Get the module, find the dependencies, and do the same for them; Until we have all the function structure mapped for the BOps. This looks like we&#x27;re traversing the flow backwards.</p><img loading="lazy" src="/meta-system-docs/img/docs/stitch-process.png" style="height:auto;width:100%;object-fit:contain" class="img_ev3q"><p>The arrows represent the dicovery direction.</p><p>When the process is done, all the functions and intermediary mappers are &quot;stitched&quot;, and you&#x27;re left with a pure javascript function.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-stage">Execution Stage<a href="#execution-stage" class="hash-link" aria-label="Direct link to Execution Stage" title="Direct link to Execution Stage">​</a></h3><p>This stage only happens when the function is called, either manually of from a Protocol. It is the data propagating through each function, and being mapped to the next on the chain until the output, then the final value is returned.</p><img loading="lazy" src="/meta-system-docs/img/docs/execution-process.png" style="height:auto;width:100%;object-fit:contain" class="img_ev3q"><p>The arrows represent the data flow direction.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bops-engine-using-declared-bops">BOps Engine: Using Declared BOps<a href="#bops-engine-using-declared-bops" class="hash-link" aria-label="Direct link to BOps Engine: Using Declared BOps" title="Direct link to BOps Engine: Using Declared BOps">​</a></h2><p>The name of the mechanism behind this feature in Meta-System is called <strong>BOps Engine</strong>. It is responsible for binding the data and functions together, and outputs a single JavaScript function with the interface specified in its configuration.</p><p>Furthermore, the BOps Engine takes care of transforming the Functions List in the flow to be used by the system. The resulting function contains the modules to be executed in the correct order and conditions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-details">Runtime details<a href="#runtime-details" class="hash-link" aria-label="Direct link to Runtime details" title="Direct link to Runtime details">​</a></h3><p>In order to avoid a single module being executed multiple times in a case where it is a dependency for multiple other functions, Meta-System caches the result of each function. In other words: A function is only executed once, given if that it is a same key being required twice.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mapikit/meta-system-docs/edit/main/docs/api-docs/architecture/flows.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/meta-system-docs/docs/api-docs/architecture/extending-functionality"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Extending Functionality</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/meta-system-docs/docs/api-docs/architecture/components/addons"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Addons</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-flows" class="table-of-contents__link toc-highlight">What are Flows</a></li><li><a href="#declaring-bops" class="table-of-contents__link toc-highlight">Declaring BOps</a><ul><li><a href="#dependencies" class="table-of-contents__link toc-highlight">Dependencies</a></li><li><a href="#dependencies-during-runtime" class="table-of-contents__link toc-highlight">Dependencies During Runtime</a></li></ul></li><li><a href="#determining-flow" class="table-of-contents__link toc-highlight">Determining Flow</a><ul><li><a href="#stitching-stage" class="table-of-contents__link toc-highlight">Stitching Stage</a></li><li><a href="#execution-stage" class="table-of-contents__link toc-highlight">Execution Stage</a></li></ul></li><li><a href="#bops-engine-using-declared-bops" class="table-of-contents__link toc-highlight">BOps Engine: Using Declared BOps</a><ul><li><a href="#runtime-details" class="table-of-contents__link toc-highlight">Runtime details</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Meta-System was built by Mapikit and follows the GPL-3.0 License. Documentation page built with Docusaurus.</div></div></div></footer></div>
<script src="/meta-system-docs/assets/js/runtime~main.b6e84327.js"></script>
<script src="/meta-system-docs/assets/js/main.d8b2b365.js"></script>
</body>
</html>