(self.webpackChunkmeta_system_docs=self.webpackChunkmeta_system_docs||[]).push([[2894],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=o.createContext({}),c=function(e){var t=o.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=c(e.components);return o.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(d,".").concat(m)]||u[m]||p[m]||i;return n?o.createElement(h,a(a({ref:t},l),{},{components:n})):o.createElement(h,a({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7020:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return l},default:function(){return u}});var o=n(2122),r=n(9756),i=(n(7294),n(3905)),a=["components"],s={sidebar_position:4},d="Addons",c={unversionedId:"api-docs/configuring/addons-config",id:"api-docs/configuring/addons-config",isDocsHomePage:!1,title:"Addons",description:'In the root of the system configuration file, there is the "addons" property. This refers to a list of MSYS extensions that can be used to all sorts of things, from having a healthcheck HTTP endpoint for your system, to adding behavior to Schemas.',source:"@site/docs/api-docs/configuring/addons-config.md",sourceDirName:"api-docs/configuring",slug:"/api-docs/configuring/addons-config",permalink:"/meta-system-docs/docs/api-docs/configuring/addons-config",editUrl:"https://github.com/mapikit/meta-system-docs/edit/main/docs/api-docs/configuring/addons-config.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docs",previous:{title:"Modules Dependencies",permalink:"/meta-system-docs/docs/api-docs/configuring/bops/dependencies"},next:{title:"Object Definition",permalink:"/meta-system-docs/docs/api-docs/configuring/object-definition"}},l=[{value:"Configuring Each Addon",id:"configuring-each-addon",children:[{value:"<code>&quot;source&quot;</code> - String (required)",id:"source---string-required",children:[]},{value:"<code>&quot;collectStrategy&quot;</code> - ENUM (required)",id:"collectstrategy---enum-required",children:[]},{value:"<code>&quot;configuration&quot;</code> - Object (required)",id:"configuration---object-required",children:[]},{value:"<code>&quot;version&quot;</code> - String Semver (optional)",id:"version---string-semver-optional",children:[]},{value:"<code>&quot;identifier&quot;</code> - String (required)",id:"identifier---string-required",children:[]}]},{value:"Example",id:"example",children:[]}],p={toc:l};function u(e){var t=e.components,n=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"addons"},"Addons"),(0,i.kt)("p",null,"In the root of the system configuration file, there is the ",(0,i.kt)("inlineCode",{parentName:"p"},'"addons"')," property. This refers to a list of MSYS extensions that can be used to all sorts of things, from having a healthcheck HTTP endpoint for your system, to adding behavior to Schemas."),(0,i.kt)("p",null,"For Meta-System, all addons are external, which means that they are a library that is imported during system setup."),(0,i.kt)("p",null,"For more information on the Addons as a component of the architecture, refer to the ",(0,i.kt)("a",{parentName:"p",href:"/meta-system-docs/docs/api-docs/architecture/components/addons"},"Addons page"),"."),(0,i.kt)("h2",{id:"configuring-each-addon"},"Configuring Each Addon"),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},'"addons"')," array, each object is a single addon to be imported into Meta-System. This object accepts these following parameters:"),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Array order matters!")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"As specified in the ",(0,i.kt)("a",{parentName:"p",href:"/meta-system-docs/docs/api-docs/architecture/components/addons"},(0,i.kt)("strong",{parentName:"a"},"Addons Concept and Components page")),", the order of declaration of Addons matter, as they may use and/or modify the same entities."))),(0,i.kt)("h3",{id:"source---string-required"},(0,i.kt)("inlineCode",{parentName:"h3"},'"source"')," - String (required)"),(0,i.kt)("p",null,"Where to aqcuire the Addon from. This property is used to retrieve the Addon, working together with the ",(0,i.kt)("inlineCode",{parentName:"p"},'"collectStrategy"'),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"For a Collect Strategy of ",(0,i.kt)("inlineCode",{parentName:"li"},'"npm"'),", the ",(0,i.kt)("strong",{parentName:"li"},"Source")," is the name of the npm package."),(0,i.kt)("li",{parentName:"ul"},"For a Collect Strategy of ",(0,i.kt)("inlineCode",{parentName:"li"},'"file"'),", ",(0,i.kt)("strong",{parentName:"li"},"Source")," should be a path to an Addon."),(0,i.kt)("li",{parentName:"ul"},"For a Collect Strategy of ",(0,i.kt)("inlineCode",{parentName:"li"},'"url"'),", the ",(0,i.kt)("strong",{parentName:"li"},"Source")," is a URL to a zipped Addon.")),(0,i.kt)("h3",{id:"collectstrategy---enum-required"},(0,i.kt)("inlineCode",{parentName:"h3"},'"collectStrategy"')," - ENUM (required)"),(0,i.kt)("p",null,"Sets where to get the files for the Addon. Possible values are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"npm"')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"file"')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"url"'))),(0,i.kt)("h3",{id:"configuration---object-required"},(0,i.kt)("inlineCode",{parentName:"h3"},'"configuration"')," - Object (required)"),(0,i.kt)("p",null,"These are the parameters of the addon you are trying to use. Pay attention to the addon own documentation, since each of them can vary immensely on the parameters they accept, and their structure."),(0,i.kt)("h3",{id:"version---string-semver-optional"},(0,i.kt)("inlineCode",{parentName:"h3"},'"version"')," - String Semver (optional)"),(0,i.kt)("p",null,"This is the Version of the Addon to be downloaded. If no specified, It defaults to the latest version available. Only works with ",(0,i.kt)("inlineCode",{parentName:"p"},"collectStrategy")," = ",(0,i.kt)("inlineCode",{parentName:"p"},'"npm"')),(0,i.kt)("h3",{id:"identifier---string-required"},(0,i.kt)("inlineCode",{parentName:"h3"},'"identifier"')," - String (required)"),(0,i.kt)("p",null,"Since you can have multiple instances of the same addon on the same system, you must give all of them an unique identifier."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("p",null,"In the following example, we will use the version ",(0,i.kt)("inlineCode",{parentName:"p"},"4.0.0")," of ",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/http-meta-protocol"},(0,i.kt)("inlineCode",{parentName:"a"},"http-meta-protocol"))," to listen to an HTTP route calling a ficticious BOps named ",(0,i.kt)("inlineCode",{parentName:"p"},"register"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "addons": [\n    {\n      "collectStrategy": "npm",\n      "source": "http-meta-protocol",\n      "identifier": "main-routes-protocol",\n      "version": "4.0.0-rc1",\n      "configuration": {\n        "port": 8080,\n        "routes": [\n          {\n            "route": "/new-client/:clientName",\n            "businessOperation": "register",\n            "method": "POST",\n            "inputMapConfiguration": [\n              { "origin": "route", "originPath": "clientName", "targetPath": "username" },\n              { "origin": "body", "originPath": "email", "targetPath": "email" },\n              { "origin": "body", "originPath": "password", "targetPath": "password" }\n            ],\n            "resultMapConfiguration": {\n              "body": { "result": "creationResult" },\n              "headers": [],\n              "statusCode": "operationResultCode"\n            }\n          }\n        ]\n      },\n    }\n  ]\n}\n')))}u.isMDXComponent=!0}}]);