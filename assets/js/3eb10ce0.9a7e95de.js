(self.webpackChunkmeta_system_docs=self.webpackChunkmeta_system_docs||[]).push([[3218],{7697:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return m},default:function(){return g}});var i=t(2122),a=t(9756),o=(t(7294),t(3905)),r=t(1756),u=t(404),l=["components"],s={},p="HTTP Fizz-Buzz Tutorial",d={unversionedId:"tutorials/fizz-buzz",id:"tutorials/fizz-buzz",isDocsHomePage:!1,title:"HTTP Fizz-Buzz Tutorial",description:"The classic old FizzBuzz but with a twist: Triggered through HTTP!",source:"@site/docs/tutorials/fizz-buzz.md",sourceDirName:"tutorials",slug:"/tutorials/fizz-buzz",permalink:"/meta-system-docs/docs/tutorials/fizz-buzz",editUrl:"https://github.com/mapikit/meta-system-docs/edit/main/docs/tutorials/fizz-buzz.md",version:"current",frontMatter:{},sidebar:"tutorials",previous:{title:"Tutorials",permalink:"/meta-system-docs/docs/tutorials/tutorials"}},m=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Step 1: Understanding the Problem",id:"step-1-understanding-the-problem",children:[{value:"isDivisibleBy Operation",id:"isdivisibleby-operation",children:[]},{value:"fizzBuzz Operation",id:"fizzbuzz-operation",children:[]}]},{value:"Step 3: Building the isDivisibleBy Operation",id:"step-3-building-the-isdivisibleby-operation",children:[]},{value:"Step 4: Building the fizzBuzz Operation",id:"step-4-building-the-fizzbuzz-operation",children:[]},{value:"Step 5: Configuring the HTTP Endpoint",id:"step-5-configuring-the-http-endpoint",children:[]},{value:"Step 6: Deploy and Test",id:"step-6-deploy-and-test",children:[]},{value:"Conclusion",id:"conclusion",children:[]}],h={toc:m};function g(e){var n=e.components,t=(0,a.Z)(e,l);return(0,o.kt)("wrapper",(0,i.Z)({},h,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"http-fizz-buzz-tutorial"},"HTTP Fizz-Buzz Tutorial"),(0,o.kt)("p",null,"The classic old FizzBuzz but with a twist: Triggered through HTTP!"),(0,o.kt)("p",null,"In this tutorial, we'll walk through the process of creating a Fizz Buzz HTTP example using Meta-System. This example will demonstrate how to build a simple Fizz Buzz service that takes a number as input and returns a text response based on whether the number is divisible by 3, 5, both, or neither."),(0,o.kt)("p",null,"On this tutorial you will also get to know in practice how Meta-System builds the flow of Business Operations."),(0,o.kt)("p",null,"Here's the result. You can either start building from an empty configuration file, or just understand how the configuration is structured by reading this page step-by-step."),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("b",null," Reveal Result ",(0,o.kt)("nbsp",null))),(0,o.kt)(r.Z,{className:"language-json",mdxType:"CodeBlock"},u.Z)),(0,o.kt)("p",null,"You are probably thinking something like: \"Well, that's a lot for a simple FizzBuzz example!\". You are correct. For a FizzBuzz that might be too much, but here come's the great benefit of Meta-system, ",(0,o.kt)("strong",{parentName:"p"},"Building this FizzBuzz is no different from anything other kind of software you may build with MSYS"),"!"),(0,o.kt)("p",null,"Due to the data-centric nature of Meta-System in which all entities are on the same level of abstraction, adding more functionality or modifying existing ones will never be harder than doing just the basic."),(0,o.kt)("div",{className:"admonition admonition-success alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"GUI Tool - Meta-Editor")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"We know that writing JSONs manually is too much of a problem, and gives a really bad visibility for the activity you're trying to perform. To solve this, Meta-Editor, the Open-Source tool for configuring your Meta-System is already under development! You can check the ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/ndGsnbTW7V"},(0,o.kt)("strong",{parentName:"a"},"Discord"))," for more information."))),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Basic understanding of JSON configuration. Learn it ",(0,o.kt)("a",{parentName:"li",href:"/meta-system-docs/docs/api-docs/configuring/basics"},"here"),"."),(0,o.kt)("li",{parentName:"ul"},"Understanding how Meta-System configures a flow. References ",(0,o.kt)("a",{parentName:"li",href:"/meta-system-docs/docs/api-docs/architecture/flows"},"here"),", ",(0,o.kt)("a",{parentName:"li",href:"/meta-system-docs/docs/api-docs/configuring/bops/flows"},"here"),", and ",(0,o.kt)("a",{parentName:"li",href:"/meta-system-docs/docs/api-docs/configuring/bops/dependencies"},"here"),".")),(0,o.kt)("h2",{id:"step-1-understanding-the-problem"},"Step 1: Understanding the Problem"),(0,o.kt)("p",null,"Before we start building the Fizz Buzz example, let's understand the problem and the business logic we need to implement."),(0,o.kt)("p",null,'Fizz Buzz is a classic programming problem where we need to print numbers from 1 to a given input number. However, when the number is divisible by 3, we print "Fizz," when it\'s divisible by 5, we print "Buzz," and when it\'s divisible by both 3 and 5, we print "FizzBuzz."\nStep 2: Defining Business Operations'),(0,o.kt)("p",null,"We'll start by defining the necessary business operations in the JSON configuration. Each business operation is composed of modules that define the logic for the Fizz Buzz example. We'll just declare them first."),(0,o.kt)("h3",{id:"isdivisibleby-operation"},"isDivisibleBy Operation"),(0,o.kt)("p",null,"This operation checks if a given number is divisible by a given divisor."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Input: ",(0,o.kt)("inlineCode",{parentName:"li"},"number")," (type number), ",(0,o.kt)("inlineCode",{parentName:"li"},"divisor")," (type number)"),(0,o.kt)("li",{parentName:"ul"},"Output: ",(0,o.kt)("inlineCode",{parentName:"li"},"boolean")," (type boolean)"),(0,o.kt)("li",{parentName:"ul"},"Constants: ",(0,o.kt)("inlineCode",{parentName:"li"},"true"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"false"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"zero"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{{\n  "identifier": "isDivisibleBy",\n  "input": {\n    "number": { "type": "number", "required": true },\n    "divisor": { "type": "number", "required": true }\n  },\n  "output": {\n    "boolean": { "type": "boolean", "required": true }\n  },\n  "constants": [\n    { "type": "boolean", "value": true, "name": "true" },\n    { "type": "boolean", "value": true, "name": "false" },\n    { "type": "number", "value": 0, "name": "zero" }\n  ],\n  "variables": [],\n  "configuration": []\n}}\n')),(0,o.kt)("h3",{id:"fizzbuzz-operation"},"fizzBuzz Operation"),(0,o.kt)("p",null,"This operation implements the Fizz Buzz logic using the isDivisibleBy operation."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Input: ",(0,o.kt)("inlineCode",{parentName:"li"},"number")," (type number)"),(0,o.kt)("li",{parentName:"ul"},"Output: ",(0,o.kt)("inlineCode",{parentName:"li"},"text")," (type number)"),(0,o.kt)("li",{parentName:"ul"},"Constants:",(0,o.kt)("inlineCode",{parentName:"li"},"fizz"),",",(0,o.kt)("inlineCode",{parentName:"li"},"buzz"),",",(0,o.kt)("inlineCode",{parentName:"li"},"fizzBuzz"),",",(0,o.kt)("inlineCode",{parentName:"li"},"fizzDivisor"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"buzzDivisor"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "identifier": "fizzBuzz",\n  "input": {\n    "number": { "type": "number", "required": true }\n  },\n  "output": {\n    "text": { "type": "string", "required": true }\n  },\n  "constants": [\n    { "type": "string", "value": "Fizz!", "name": "fizz" },\n    { "type": "string", "value": "Buzz!", "name": "buzz" },\n    { "type": "string", "value": "FizzBuzz!", "name": "fizzBuzz" },\n    { "type": "number", "value": 3, "name": "fizzDivisor" },\n    { "type": "number", "value": 5, "name": "buzzDivisor" }\n  ],\n  "variables": [],\n  "configuration": []\n}\n')),(0,o.kt)("h2",{id:"step-3-building-the-isdivisibleby-operation"},"Step 3: Building the isDivisibleBy Operation"),(0,o.kt)("p",null,"We'll begin by creating the isDivisibleBy operation and its modules."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Modulus Module (modulus): This module calculates the modulus of the input number and divisor."),(0,o.kt)("li",{parentName:"ol"},"EqualTo Module (equalTo): This module checks if the modulus result is equal to zero, indicating divisibility."),(0,o.kt)("li",{parentName:"ol"},"Output Module: This module outputs the result of the equalTo module as a boolean.")),(0,o.kt)("p",null,"Result:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[{\n  "key": 1,\n  "dependencies": [\n    { "origin": "input", "originPath": "number", "targetPath": "A" },\n    { "origin": "input", "originPath": "divisor", "targetPath": "B" }\n  ],\n  "moduleName": "modulus",\n  "moduleType": "internal"\n},\n{\n  "key": 2,\n  "dependencies": [\n    { "origin": 1, "originPath": "result.result", "targetPath": "A" },\n    { "origin": "constant", "originPath": "zero", "targetPath": "B" }\n  ],\n  "moduleName": "equalTo",\n  "moduleType": "internal"\n},\n{\n  "key": 0,\n  "dependencies": [\n    { "origin": 2, "originPath": "result.isEqual", "targetPath": "boolean" }\n  ],\n  "moduleName": "output",\n  "moduleType": "output"\n}]\n')),(0,o.kt)("h2",{id:"step-4-building-the-fizzbuzz-operation"},"Step 4: Building the fizzBuzz Operation"),(0,o.kt)("p",null,"Next, we'll create the fizzBuzz operation and its modules."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"isDivisibleBy Modules: We'll create two instances of the isDivisibleBy operation to check divisibility by 3 and 5 respectively."),(0,o.kt)("li",{parentName:"ol"},"AND Module: This module performs a logical AND operation on the results of the two isDivisibleBy modules."),(0,o.kt)("li",{parentName:"ol"},"IF Modules: We'll create three instances of the IF module to handle the Fizz Buzz logic:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},'The first IF module checks if the number is divisible by both 3 and 5 and returns "FizzBuzz" if true.'),(0,o.kt)("li",{parentName:"ul"},'The second IF module checks if the number is divisible by 3 and returns "Fizz" if true.'),(0,o.kt)("li",{parentName:"ul"},'The third IF module checks if the number is divisible by 5 and returns "Buzz" if true.'))),(0,o.kt)("li",{parentName:"ol"},"Output Module: This module outputs the result of the appropriate IF module as text.")),(0,o.kt)("p",null,"Result:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[{\n  "key": 2,\n  "moduleName": "isDivisibleBy",\n  "moduleType": "bop",\n  "dependencies": [\n    { "origin": "input", "originPath": "number", "targetPath": "number" },\n    { "origin": "constants", "originPath": "fizzDivisor", "targetPath": "divisor" }\n  ]\n},\n{\n  "key": 3,\n  "moduleName": "isDivisibleBy",\n  "moduleType": "bop",\n  "dependencies": [\n    { "origin": "input", "originPath": "number", "targetPath": "number" },\n    { "origin": "constants", "originPath": "buzzDivisor", "targetPath": "divisor" }\n  ]\n},\n{\n  "key": 4,\n  "moduleName": "and",\n  "moduleType": "internal",\n  "dependencies": [\n    { "origin": 2, "originPath": "result.boolean", "targetPath": "A" },\n    { "origin": 3, "originPath": "result.boolean", "targetPath": "B" }\n  ]\n},\n{\n  "key": 6,\n  "moduleName": "if",\n  "moduleType": "internal",\n  "dependencies": [\n    { "origin": 3, "originPath": "result.boolean", "targetPath": "boolean" },\n    { "origin": "constant", "originPath": "buzz", "targetPath": "ifTrue" },\n    { "origin": "input", "originPath": "number", "targetPath": "ifFalse" }\n  ]\n},\n{\n  "key": 5,\n  "moduleName": "if",\n  "moduleType": "internal",\n  "dependencies": [\n    { "origin": 2, "originPath": "result.boolean", "targetPath": "boolean" },\n    { "origin": "constant", "originPath": "fizz", "targetPath": "ifTrue" },\n    { "origin": 6, "originPath": "result.outputValue", "targetPath": "ifFalse" }\n  ]\n},\n{\n  "key": 1,\n  "moduleName": "if",\n  "moduleType": "internal",\n  "dependencies": [\n    { "origin": 4, "originPath": "result.bothTrue", "targetPath": "boolean" },\n    { "origin": "constant", "originPath": "fizzBuzz", "targetPath": "ifTrue" },\n    { "origin": 5, "originPath": "result.outputValue", "targetPath": "ifFalse" }\n  ]\n},\n{\n  "key": 0,\n  "dependencies": [\n    { "origin": 1, "originPath": "result.outputValue", "targetPath": "text" }\n  ],\n  "moduleName": "output",\n  "moduleType": "output"\n}]\n')),(0,o.kt)("h2",{id:"step-5-configuring-the-http-endpoint"},"Step 5: Configuring the HTTP Endpoint"),(0,o.kt)("p",null,"Now that we have defined the business operations, it's time to configure the HTTP endpoint using the provided JSON configuration."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"HTTP Addon Configuration: We'll use the ",(0,o.kt)("inlineCode",{parentName:"li"},"http-meta-protocol")," addon at version ",(0,o.kt)("inlineCode",{parentName:"li"},"4.0.0-rc5")," to create an endpoint that accepts a number in the route parameter. See the addon's documentation ",(0,o.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/http-meta-protocol"},"here"),"."),(0,o.kt)("li",{parentName:"ol"},"Route Configuration: Let's declare the new route."),(0,o.kt)("li",{parentName:"ol"},"Input Mapping: We'll map the route parameter to the input of the fizzBuzz operation."),(0,o.kt)("li",{parentName:"ol"},"Result Mapping: We'll configure the HTTP response, including the status code, headers, and response body using the text output from the fizzBuzz operation.")),(0,o.kt)("p",null,"By now you should have a working Fizz Buzz service!"),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("b",null," Reveal Result ",(0,o.kt)("nbsp",null))),(0,o.kt)(r.Z,{className:"language-json",mdxType:"CodeBlock"},u.Z)),(0,o.kt)("h2",{id:"step-6-deploy-and-test"},"Step 6: Deploy and Test"),(0,o.kt)("p",null,"With the configuration in place, just run it using ",(0,o.kt)("inlineCode",{parentName:"p"},"meta-system run ./<file-name>.json"),". Once running, you can test the service by sending GET requests to the defined route, such as ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8080/number/15"},"http://localhost:8080/number/15"),", and observe the Fizz Buzz responses in the HTTP responses. Change the last number and observe the responses!"),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"Congratulations! You've successfully created a Fizz Buzz HTTP example using Meta-System! This tutorial walked you through the process of defining business operations, configuring modules, and setting up an HTTP endpoint to implement the Fizz Buzz logic."),(0,o.kt)("p",null,"Tell us how was your experience on the ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/ndGsnbTW7V"},(0,o.kt)("strong",{parentName:"a"},"discord"))," channel!"))}g.isMDXComponent=!0},404:function(e,n){"use strict";n.Z='{\n  "name": "fizz-buzz HTTP Example",\n  "version": "0.0.1",\n  "envs": [],\n  "businessOperations": [\n    {\n      "identifier": "isDivisibleBy",\n      "input": {\n        "number": { "type": "number", "required": true },\n        "divisor": { "type": "number", "required": true }\n      },\n      "output": {\n        "boolean": { "type": "boolean", "required": true }\n      },\n      "constants": [\n        { "type": "boolean", "value": true, "name": "true" },\n        { "type": "boolean", "value": true, "name": "false" },\n        { "type": "number", "value": 0, "name": "zero" }\n      ],\n      "variables": [],\n      "configuration": [\n        {\n          "key": 1,\n          "dependencies": [\n            { "origin": "input", "originPath": "number", "targetPath": "A" },\n            { "origin": "input", "originPath": "divisor", "targetPath": "B" }\n          ],\n          "moduleName": "modulus",\n          "moduleType": "internal"\n        },\n        {\n          "key": 2,\n          "dependencies": [\n            { "origin": 1, "originPath": "result.result", "targetPath": "A" },\n            { "origin": "constant", "originPath": "zero", "targetPath": "B" }\n          ],\n          "moduleName": "equalTo",\n          "moduleType": "internal"\n        },\n        {\n          "key": 0,\n          "dependencies": [\n            { "origin": 2, "originPath": "result.isEqual", "targetPath": "boolean" }\n          ],\n          "moduleName": "output",\n          "moduleType": "output"\n        }\n      ]\n    },\n    {\n      "identifier": "fizzBuzz",\n      "input": {\n        "number": { "type": "number", "required": true }\n      },\n      "output": {\n        "text": { "type": "string", "required": true }\n      },\n      "constants": [\n        { "type": "string", "value": "Fizz!", "name": "fizz" },\n        { "type": "string", "value": "Buzz!", "name": "buzz" },\n        { "type": "string", "value": "FizzBuzz!", "name": "fizzBuzz" },\n        { "type": "number", "value": 3, "name": "fizzDivisor" },\n        { "type": "number", "value": 5, "name": "buzzDivisor" }\n      ],\n      "variables": [],\n      "configuration": [\n        {\n          "key": 2,\n          "moduleName": "isDivisibleBy",\n          "moduleType": "bop",\n          "dependencies": [\n            { "origin": "input", "originPath": "number", "targetPath": "number" },\n            { "origin": "constants", "originPath": "fizzDivisor", "targetPath": "divisor" }\n          ]\n        },\n        {\n          "key": 3,\n          "moduleName": "isDivisibleBy",\n          "moduleType": "bop",\n          "dependencies": [\n            { "origin": "input", "originPath": "number", "targetPath": "number" },\n            { "origin": "constants", "originPath": "buzzDivisor", "targetPath": "divisor" }\n          ]\n        },\n        {\n          "key": 4,\n          "moduleName": "and",\n          "moduleType": "internal",\n          "dependencies": [\n            { "origin": 2, "originPath": "result.boolean", "targetPath": "A" },\n            { "origin": 3, "originPath": "result.boolean", "targetPath": "B" }\n          ]\n        },\n        {\n          "key": 6,\n          "moduleName": "if",\n          "moduleType": "internal",\n          "dependencies": [\n            { "origin": 3, "originPath": "result.boolean", "targetPath": "boolean" },\n            { "origin": "constant", "originPath": "buzz", "targetPath": "ifTrue" },\n            { "origin": "input", "originPath": "number", "targetPath": "ifFalse" }\n          ]\n        },\n        {\n          "key": 5,\n          "moduleName": "if",\n          "moduleType": "internal",\n          "dependencies": [\n            { "origin": 2, "originPath": "result.boolean", "targetPath": "boolean" },\n            { "origin": "constant", "originPath": "fizz", "targetPath": "ifTrue" },\n            { "origin": 6, "originPath": "result.outputValue", "targetPath": "ifFalse" }\n          ]\n        },\n        {\n          "key": 1,\n          "moduleName": "if",\n          "moduleType": "internal",\n          "dependencies": [\n            { "origin": 4, "originPath": "result.bothTrue", "targetPath": "boolean" },\n            { "origin": "constant", "originPath": "fizzBuzz", "targetPath": "ifTrue" },\n            { "origin": 5, "originPath": "result.outputValue", "targetPath": "ifFalse" }\n          ]\n        },\n        {\n          "key": 0,\n          "dependencies": [\n            { "origin": 1, "originPath": "result.outputValue", "targetPath": "text" }\n          ],\n          "moduleName": "output",\n          "moduleType": "output"\n        }\n      ]\n    }\n  ],\n  "schemas": [],\n  "addons": [\n    {\n      "identifier": "http",\n      "version": "4.0.0-rc5",\n      "source": "http-meta-protocol",\n      "collectStrategy": "npm",\n      "configuration": {\n        "port": 8080,\n        "host": "0.0.0.0",\n        "routes": [\n          {\n            "route": "/number/:value",\n            "businessOperation": "fizzBuzz",\n            "method": "GET",\n            "inputMapConfiguration": [\n              { "origin": "route", "originPath": "value", "targetPath": "number" }\n            ],\n            "resultMapConfiguration": {\n              "statusCode": 200,\n              "headers": [],\n              "body": {\n                "result": "text"\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}'}}]);